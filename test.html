<!DOCTYPE html>
<html>

<head>
<title>EU API</title>
<<style media="screen">
  pre{
    white-space: pre-wrap;
  }
</style>

</head>

<body>
<form>
<label>id: <input type="text" id="id"></input></label>
<button type="button" id="submit">Query</button>
</form>
<pre>
  <code id="result"></code>
</pre>


<script>
/* at the end to wait for DOM */
document.getElementById("submit").addEventListener("click", firequery);

function firequery(){
	var id = document.getElementById("id").value;
	console.log("Querying for " + id);
  var api = "https://ec.europa.eu/research/participants/api/";
	var query = "orgProfile/publicProjectsByPic.json?pic=";
  fetch(api + query + id)
  .then(response => response.json())
  .then(data => {document.getElementById("result").innerHTML = (JSON.stringify(data))}) // JSON-string from `response.json()` call
  .catch(error => console.error(error));
}
</script>
</body>
</html>
